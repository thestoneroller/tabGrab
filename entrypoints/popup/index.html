<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tab Manager</title>
    <meta name="manifest.type" content="browser_action" />
    <link rel="stylesheet" href="../../assets/tailwind.css" />
  </head>
  <body
    class="bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100"
  >
    <div id="app" class="w-[400px] max-h-[480px] flex flex-col p-4">
      <header class="flex justify-between items-center mb-4">
        <h1 class="text-xl font-semibold">Tab Manager</h1>
        <button
          id="theme-toggle"
          aria-label="Toggle dark mode"
          class="w-9 h-9 flex items-center justify-center rounded-full bg-neutral-200 dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-all duration-200"
        >
          <svg
            class="sun-icon hidden stroke-neutral-900 dark:stroke-neutral-100 w-[18px] h-[18px]"
            viewBox="0 0 24 24"
            fill="none"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
          <svg
            class="moon-icon stroke-neutral-900 dark:stroke-neutral-100 w-[18px] h-[18px]"
            viewBox="0 0 24 24"
            fill="none"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </button>
      </header>

      <div class="mb-4 relative">
        <input
          type="text"
          id="search-input"
          placeholder="Search tabs by title or URL..."
          class="w-full px-3 py-2 pl-8 text-sm bg-neutral-200 dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 rounded-xl focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500/20 text-neutral-900 dark:text-neutral-100 placeholder-neutral-500 dark:placeholder-neutral-400"
        />
        <svg
          class="absolute left-2.5 top-2.5 w-4 h-4 text-neutral-500 dark:text-neutral-400"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </div>

      <div class="flex justify-between items-center mb-4">
        <div class="flex justify-between items-center w-full gap-2">
          <div class="flex items-center gap-2">
            <div class="flex items-center">
              <input
                type="checkbox"
                id="select-all-checkbox"
                class="sr-only peer"
              />
              <div
                id="select-all-visual"
                class="w-4 h-4 border-2 border-neutral-300 dark:border-neutral-700 rounded peer-checked:bg-amber-500 peer-checked:border-amber-500 relative peer-checked:after:content-[''] peer-checked:after:absolute peer-checked:after:left-[4px] peer-checked:after:top-[0px] peer-checked:after:w-[5px] peer-checked:after:h-[9px] peer-checked:after:border-white peer-checked:after:border-r-2 peer-checked:after:border-b-2 peer-checked:after:rotate-45 cursor-pointer"
              ></div>
              <label
                for="select-all-checkbox"
                class="ml-2 text-sm cursor-pointer select-none text-neutral-900 dark:text-neutral-100"
              >
                Select All
              </label>
            </div>
            <div
              class="text-xs px-2 py-0.5 bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400 rounded-full"
            >
              <span id="selection-count">0</span>
            </div>
          </div>

          <div class="flex self-end relative">
            <button
              id="copy-selected"
              disabled
              class="px-2.5 py-1.5 text-xs border border-amber-500 text-amber-300 rounded-l-xl flex items-center gap-2 hover:text-white hover:bg-amber-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              <svg
                viewBox="0 0 24 24"
                width="12"
                height="12"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path
                  d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
                ></path>
              </svg>
              <span id="copy-button-text">Copy Selected</span>
            </button>
            <button
              id="copy-format-toggle"
              aria-haspopup="true"
              aria-expanded="false"
              disabled
              class="px-1.5 py-1.5 text-xs border-y border-r border-amber-500 text-amber-300 rounded-r-xl flex items-center hover:text-white hover:bg-amber-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                <path
                  fill-rule="evenodd"
                  d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                  clip-rule="evenodd"
                />
              </svg>
            </button>
            <div
              id="copy-format-menu"
              class="absolute right-0 top-full mt-1 w-48 bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 rounded-xl shadow-lg z-10 hidden"
              role="menu"
              aria-orientation="vertical"
              aria-labelledby="copy-format-toggle"
            >
              <div class="py-1" role="none">
                <a
                  href="#"
                  class="copy-format-item flex justify-between items-center px-4 py-2 text-sm text-neutral-900 dark:text-neutral-100 hover:bg-amber-100 dark:hover:bg-amber-900/50"
                  role="menuitem"
                  data-format="plain"
                  >Plain URLs
                  <span class="format-checkmark hidden ml-2">
                    <svg
                      class="w-4 h-4 text-amber-600"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                        clip-rule="evenodd"
                      ></path>
                    </svg>
                  </span>
                </a>
                <a
                  href="#"
                  class="copy-format-item flex justify-between items-center px-4 py-2 text-sm text-neutral-900 dark:text-neutral-100 hover:bg-amber-100 dark:hover:bg-amber-900/50"
                  role="menuitem"
                  data-format="markdown"
                  >Markdown List
                  <span class="format-checkmark hidden ml-2">
                    <svg
                      class="w-4 h-4 text-amber-600"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                        clip-rule="evenodd"
                      ></path>
                    </svg>
                  </span>
                </a>
                <a
                  href="#"
                  class="copy-format-item flex justify-between items-center px-4 py-2 text-sm text-neutral-900 dark:text-neutral-100 hover:bg-amber-100 dark:hover:bg-amber-900/50"
                  role="menuitem"
                  data-format="json"
                  >JSON Array
                  <span class="format-checkmark hidden ml-2">
                    <svg
                      class="w-4 h-4 text-amber-600"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                        clip-rule="evenodd"
                      ></path>
                    </svg>
                  </span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div
        id="tabs-container"
        class="flex-1 overflow-y-auto pr-1 space-y-2 max-h-[300px]"
      ></div>
    </div>
    <script type="module" src="./main.ts"></script>
  </body>
</html>
